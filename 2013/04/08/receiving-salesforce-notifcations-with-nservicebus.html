<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Receiving Salesforce notification with NServiceBus"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Roboto:wght@700&display=swap" rel="stylesheet"><title>Receiving Salesforce notification with NServiceBus - Ramon Smits</title><link rel="stylesheet" href="/assets/moving.CSKcsmQt.css">
<style>.header[data-astro-cid-uwv4mmhs]{position:fixed;top:0;left:0;right:0;z-index:100;background:#0a0a0ff2;backdrop-filter:blur(10px);border-bottom:1px solid var(--color-border)}.header-content[data-astro-cid-uwv4mmhs]{display:flex;align-items:center;justify-content:space-between;height:70px}.logo[data-astro-cid-uwv4mmhs]{display:flex;align-items:center;gap:.25rem;font-family:var(--font-mono);font-size:1.5rem;font-weight:700}.logo-bracket[data-astro-cid-uwv4mmhs]{color:var(--color-primary)}.logo-text[data-astro-cid-uwv4mmhs]{color:var(--color-text)}.nav[data-astro-cid-uwv4mmhs]{display:flex;gap:2rem}.nav-link[data-astro-cid-uwv4mmhs]{color:var(--color-text-muted);font-weight:500;transition:color .2s}.nav-link[data-astro-cid-uwv4mmhs]:hover{color:var(--color-primary-light)}.article[data-astro-cid-uwv4mmhs]{padding-top:120px;padding-bottom:4rem;min-height:100vh}.article-header[data-astro-cid-uwv4mmhs]{margin-bottom:3rem}.article-date[data-astro-cid-uwv4mmhs]{display:block;color:var(--color-primary-light);font-family:var(--font-mono);font-size:.9rem;margin-bottom:.5rem}.article-title[data-astro-cid-uwv4mmhs]{font-size:clamp(1.8rem,4vw,2.5rem);line-height:1.3}.article-content[data-astro-cid-uwv4mmhs]{max-width:800px;line-height:1.8;color:var(--color-text-muted)}.article-content[data-astro-cid-uwv4mmhs] h2{color:var(--color-text);margin-top:2.5rem;margin-bottom:1rem;font-size:1.5rem}.article-content[data-astro-cid-uwv4mmhs] h3{color:var(--color-text);margin-top:2rem;margin-bottom:.75rem;font-size:1.25rem}.article-content[data-astro-cid-uwv4mmhs] p{margin-bottom:1.25rem}.article-content[data-astro-cid-uwv4mmhs] ul,.article-content[data-astro-cid-uwv4mmhs] ol{margin-bottom:1.25rem;padding-left:1.5rem}.article-content[data-astro-cid-uwv4mmhs] li{margin-bottom:.5rem}.article-content[data-astro-cid-uwv4mmhs] code{background:#b6e6851a;padding:.2rem .4rem;border-radius:4px;font-family:var(--font-mono);font-size:.9em;color:var(--color-primary-light)}.article-content[data-astro-cid-uwv4mmhs] pre{background:#12121ae6;border:1px solid var(--color-border);border-radius:8px;padding:1.25rem;margin-bottom:1.5rem;overflow-x:auto}.article-content[data-astro-cid-uwv4mmhs] pre code{background:none;padding:0;font-size:.85rem;color:var(--color-text)}.article-content[data-astro-cid-uwv4mmhs] blockquote{border-left:3px solid var(--color-primary);padding-left:1.5rem;margin:1.5rem 0;font-style:italic;color:var(--color-text)}.article-content[data-astro-cid-uwv4mmhs] strong{color:var(--color-text);font-weight:600}.article-footer[data-astro-cid-uwv4mmhs]{margin-top:4rem;padding-top:2rem;border-top:1px solid var(--color-border)}.back-link[data-astro-cid-uwv4mmhs]{display:inline-flex;align-items:center;gap:.5rem;color:var(--color-primary-light);font-weight:500}.back-link[data-astro-cid-uwv4mmhs]:hover{color:var(--color-primary)}@media(max-width:768px){.nav[data-astro-cid-uwv4mmhs]{display:none}.article[data-astro-cid-uwv4mmhs]{padding-top:100px}}
</style></head> <body> <div id="plasma-bg"></div> <div class="content-wrapper">  <header class="header" data-astro-cid-uwv4mmhs> <div class="container header-content" data-astro-cid-uwv4mmhs> <a href="/" class="logo" data-astro-cid-uwv4mmhs> <span class="logo-bracket" data-astro-cid-uwv4mmhs></span> <span class="logo-text" data-astro-cid-uwv4mmhs>RS</span> <span class="logo-bracket" data-astro-cid-uwv4mmhs></span> </a> <nav class="nav" data-astro-cid-uwv4mmhs> <a href="/#about" class="nav-link" data-astro-cid-uwv4mmhs>About</a> <a href="/#skills" class="nav-link" data-astro-cid-uwv4mmhs>Skills</a> <a href="/#experience" class="nav-link" data-astro-cid-uwv4mmhs>Experience</a> <a href="/archive.html" class="nav-link" data-astro-cid-uwv4mmhs>Archive</a> <a href="/#contact" class="nav-link" data-astro-cid-uwv4mmhs>Contact</a> </nav> </div> </header> <article class="article" data-astro-cid-uwv4mmhs> <div class="container" data-astro-cid-uwv4mmhs> <header class="article-header" data-astro-cid-uwv4mmhs> <time class="article-date" data-astro-cid-uwv4mmhs>8 April 2013</time> <h1 class="article-title" data-astro-cid-uwv4mmhs>Receiving Salesforce notification with NServiceBus</h1> </header> <div class="article-content" data-astro-cid-uwv4mmhs>  <p>This article describes implementing real-time Salesforce notifications within an NServiceBus messaging environment. The solution enables near real-time synchronization of Salesforce data through outbound messages rather than polling.</p> <h2>Salesforce Setup</h2> <p>Generate contracts from Salesforce's Enterprise WSDL and configure outbound messages through the workflow system. Specifically, "outbound messages" trigger via workflow rules to push data when objects change.</p> <h2>Code Generation</h2> <p>Two distinct approaches apply here:</p> <ul> <li><code>wsdl.exe</code> generates the Salesforce client (Enterprise WSDL)</li> <li><code>svcutil.exe</code> generates the receiving service contract (outbound message WSDL)</li> </ul> <h2>NServiceBus Integration</h2> <p>A WCF service receives notifications and converts them into NServiceBus commands. The <code>ContactNotificationService</code> class demonstrates handling batched notifications: the class uses dependency injection to receive a bus instance and routes messages through the messaging system.</p> <h2>Important Caveats</h2> <ul> <li>Notifications attempt delivery for 24 hours before purging</li> <li>No guaranteed exactly-once delivery or ordering</li> <li>Deleted objects require special handling through logical deletes or trigger-based logging</li> <li>Requires compensating transactions and deduplication logic</li> </ul> <h2>Resources</h2> <p>The complete implementation is available at the <a href="https://github.com/ramonsmits/sf2nsb">SalesForce To NServiceBus GitHub repository</a>.</p>  </div> <footer class="article-footer" data-astro-cid-uwv4mmhs> <a href="/archive.html" class="back-link" data-astro-cid-uwv4mmhs>&larr; Back to Archive</a> </footer> </div> </article>  </div> <script src="/js/plasma.js"></script> </body> </html>  